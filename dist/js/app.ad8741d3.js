(function(t){function e(e){for(var a,o,s=e[0],c=e[1],u=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},i=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},4033:function(t,e,r){},5842:function(t,e,r){"use strict";var a=r("60a5"),n=r.n(a);n.a},"60a5":function(t,e,r){},"9ac6":function(t,e,r){"use strict";var a=r("ed9e"),n=r.n(a);n.a},c079:function(t,e,r){"use strict";var a=r("4033"),n=r.n(a);n.a},cd49:function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"inspire"}},[r("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("ListMenu",{attrs:{listMenu:t.getMenu}})],1),r("v-app-bar",{attrs:{app:"","clipped-left":""}},[r("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),r("v-toolbar-title",[r("router-link",{staticClass:"app-name",attrs:{to:"/",tag:"span"}},[t._v("MovieApp")])],1)],1),r("v-content",[r("v-container",{attrs:{fluid:""}},[[r("v-container",{attrs:{fluid:""}},[r("router-view",{attrs:{name:"films",films:t.films,isLoaded:t.isLoaded,category:t.category,moreContent:t.moreContent}}),r("router-view",{attrs:{name:"counter"}}),r("router-view",{attrs:{name:"full"}})],1)]],2)],1),r("v-footer",{attrs:{app:""}},[r("span",[t._v("© 2019")])])],1)},i=[],o=(r("a481"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"counter"},[r("h1",[t._v("Counter: "+t._s(t.counter))]),r("h3",[t._v("Category = "+t._s(t.$route.params.category))]),r("h3",[t._v("ID = "+t._s(t.$route.params.id))]),r("input",{attrs:{type:"submit",value:"add"},on:{click:function(e){t.counter++}}}),r("input",{attrs:{type:"submit",value:"sub"},on:{click:function(e){t.counter--}}}),t._v("\n  "+t._s(t.name)+"\n")])}),s=[],c={data:function(){return{counter:0,name:""}}},u=c,l=(r("9ac6"),r("2877")),d=Object(l["a"])(u,o,s,!1,null,"89dd1682",null),f=d.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isLoaded?r("v-row",t._l(t.films,(function(e){return r("v-col",{key:e.id,attrs:{xs:"12",sm:"6",md:"4"}},[r("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[e.backdrop_path?r("v-img",{attrs:{height:"200px",src:t.imagePrefix+e.backdrop_path}}):r("v-img",{attrs:{height:"200px",src:t.defaultImage}}),r("v-card-title",[t._v(t._s(e.title))]),r("v-card-text",{staticClass:"crop"},[t._v(t._s(e.overview))]),r("v-card-actions",[r("router-link",{attrs:{to:"/full-"+t.category+"/"+e.id,tag:"span"}},[r("v-btn",{attrs:{text:""}},[t._v("More details...")])],1)],1)],1)],1)})),1):r("v-row",[r("v-col",[t._v("Loading...")])],1),r("div",{staticClass:"my-2"},[r("v-btn",{attrs:{loading:!t.isLoaded,block:"",small:"",color:"primary"},on:{click:function(e){return t.moreContent()}}},[t._v("More...")])],1)],1)},p=[],v={props:{isLoaded:Boolean,films:Array,category:String,moreContent:Function},data:function(){return{imagePrefix:"https://image.tmdb.org/t/p/w600_and_h900_bestv2",defaultImage:"http://denrakaev.com/wp-content/uploads/2015/03/no-image-800x511.png"}}},g=v,h=r("6544"),b=r.n(h),y=r("8336"),w=r("b0af"),_=r("99d9"),O=r("62ad"),I=r("adda"),L=r("0fd9"),x=Object(l["a"])(g,m,p,!1,null,"ac8dd39e",null),F=x.exports;b()(x,{VBtn:y["a"],VCard:w["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VCol:O["a"],VImg:I["a"],VRow:L["a"]});var P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-list",{attrs:{dense:""}},t._l(t.listMenu,(function(e){return r("v-list-item",{key:e.id},[r("v-list-item-action",[r("v-icon",[t._v(" "+t._s(t.mdiMovieOpen)+" ")])],1),r("v-list-item-content",[r("router-link",{attrs:{to:e.href,tag:"span"}},[r("v-btn",{attrs:{text:"",small:""}},[t._v(t._s(e.label))])],1)],1)],1)})),1)],1)},j=[],C=r("94ed"),k={props:{listMenu:Array},data:function(){return{mdiMovieOpen:C["a"]}}},M=k,V=r("132d"),A=r("8860"),T=r("da13"),R=r("1800"),$=r("5d23"),q=Object(l["a"])(M,P,j,!1,null,"2b32d324",null),E=q.exports;b()(q,{VBtn:y["a"],VIcon:V["a"],VList:A["a"],VListItem:T["a"],VListItemAction:R["a"],VListItemContent:$["a"]});r("d48d");var S=r("60a3"),B=S["a"].extend({name:"App",components:{Counter:f,ListFilms:F,ListMenu:E},data:function(){return{drawer:!0,page:1,isLoaded:!1,films:null,category:"film",currentPath:"/"}},computed:{getMenu:function(){return this.$store.getters.getMenu}},created:function(){var t=this.$route.params.category;this.routeMatching(t)},methods:{moreContent:function(){this.isLoaded=!this.isLoaded,this.page++;var t=this.$route.params.category;this.routeMatching(t)},getFilms:function(){var t=this;this.$store.dispatch("getPopularMoviesAction",this.page).then((function(e){t.films=e.results,t.isLoaded=!t.isLoaded})).catch((function(t){return console.log(t)}))},getTv:function(){var t=this;this.$store.dispatch("getPopularTvAction",this.page).then((function(e){t.films=e.results,t.isLoaded=!t.isLoaded})).catch((function(t){return console.log(t)}))},routeMatching:function(t){var e="string"===typeof t&&"/"!==t?t.replace("/",""):"";switch(e){case"films":this.category=e,this.getFilms();break;case"tv":this.category=e,this.getTv();break;default:this.category="films",this.getFilms();break}}},watch:{$route:function(t,e){this.isLoaded=!this.isLoaded,this.routeMatching(t.path)}}}),D=B,J=(r("c079"),r("7496")),N=r("40dc"),z=r("5bc1"),G=r("a523"),H=r("a75b"),K=r("553a"),Q=r("f774"),U=r("2a7f"),W=Object(l["a"])(D,n,i,!1,null,"5992d0fc",null),X=W.exports;b()(W,{VApp:J["a"],VAppBar:N["a"],VAppBarNavIcon:z["a"],VContainer:G["a"],VContent:H["a"],VFooter:K["a"],VNavigationDrawer:Q["a"],VToolbarTitle:U["a"]});var Y=r("8c4f"),Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-container",[t.isLoaded?r("v-card",{key:t.currentFilm.id,staticClass:"mx-auto my-12",attrs:{"max-width":"80%"}},[t.trailer?r("iframe",{staticClass:"mx-auto d-flex justify-content-center",attrs:{width:"420",height:"315",src:t.videoPrefix+t.trailer}}):r("v-img",{attrs:{height:"200px",src:t.imagePrefix+t.currentFilm.backdrop_path}}),r("v-card-title",[t._v(t._s(t.currentFilm.title||t.currentFilm.name))]),r("v-card-text",[r("v-row",{attrs:{align:"center"}},[r("v-rating",{staticClass:"ml-2",attrs:{value:t.currentFilm.vote_average,color:"amber","half-increments":"",dense:"",size:"14",readonly:""}}),r("div",{staticClass:"grey--text ml-4"},[t._v(t._s(t.currentFilm.vote_average)+" ("+t._s(t.currentFilm.vote_count)+")")])],1),r("v-divider",{staticClass:"mt-3 mb-3"}),r("div",[t._v(t._s(t.currentFilm.overview))])],1)],1):r("v-card",[t._v("Идет загрузка...")])],1)],1)},tt=[],et=r("d225"),rt=r("b0b4"),at=r("308d"),nt=r("6bb5"),it=r("4e2b"),ot=r("9ab4"),st=r("2fe1"),ct=function(t){function e(){var t;return Object(et["a"])(this,e),t=Object(at["a"])(this,Object(nt["a"])(e).apply(this,arguments)),t.isLoaded=!1,t.currentFilm={},t.routeId=0,t.trailer="",t}return Object(it["a"])(e,t),Object(rt["a"])(e,[{key:"data",value:function(){return{trailer:"",videoPrefix:"https://www.youtube.com/embed/",isLoaded:!1,currentFilm:{},routeCategory:this.$route.params.category,routeId:parseInt(this.$route.params.id,10),imagePrefix:"https://image.tmdb.org/t/p/w600_and_h900_bestv2",defaultImage:"http://denrakaev.com/wp-content/uploads/2015/03/no-image-800x511.png"}}},{key:"getFilmInfo",value:function(){var t=this;this.$store.dispatch("getFullMovieInfoAction",this.routeId).then((function(e){t.currentFilm=e,t.isLoaded=!t.isLoaded})).catch((function(e){throw t.isLoaded=!1,new Error(e)})),this.$store.dispatch("getFilmTrailersAction",this.routeId).then((function(e){return t.trailer=e.source})).catch((function(t){throw new Error(t)}))}},{key:"getTvInfo",value:function(){var t=this;this.$store.dispatch("getFullTvInfoAction",this.routeId).then((function(e){t.currentFilm=e,t.isLoaded=!t.isLoaded})).catch((function(e){throw t.isLoaded=!1,new Error(e)}))}},{key:"matchCategory",value:function(t){switch(t){case"tv":this.getTvInfo();break;case"films":this.getFilmInfo();break;default:this.getFilmInfo();break}}},{key:"created",value:function(){var t=this.$route.params.category;this.matchCategory(t)}}]),e}(a["a"]);ct=Object(ot["a"])([Object(st["b"])({})],ct);var ut=ct,lt=ut,dt=(r("5842"),r("ce7e6")),ft=r("1d4d"),mt=Object(l["a"])(lt,Z,tt,!1,null,"759350fa",null),pt=mt.exports;b()(mt,{VCard:w["a"],VCardText:_["b"],VCardTitle:_["c"],VContainer:G["a"],VDivider:dt["a"],VImg:I["a"],VRating:ft["a"],VRow:L["a"]}),a["a"].use(Y["a"]);var vt=new Y["a"]({mode:"history",base:"/",routes:[{path:"/full-:category/:id",name:"full-film",components:{full:pt}},{path:"/:category?",name:"List Film",components:{films:F}}]}),gt=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),ht=r("75fc"),bt=r("2f62"),yt=r("89c6")("e8ca59144a4bc70ef325f66d36cd0802");function wt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wt(r,!0).forEach((function(e){Object(gt["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}a["a"].use(bt["a"]);var Ot=new bt["a"].Store({state:{fullFilmIsLoaded:!1,page:0,films:[],menu:[{id:1,label:"Movie",href:"/films"},{id:2,label:"TV",href:"/tv"}],fullFilmInfoById:{id:null,fullInfo:null,isLoaded:!1},trailrFilmById:{},tvFilmById:{},apiResponse:{status:null,message:null}},mutations:{errorRequestRemoteApi:function(t,e){var r=t.apiResponse,a=e.status,n=e.message;r.status=a,r.message=n},successRequestPopularMovie:function(t,e){var r=[].concat(Object(ht["a"])(t.films),Object(ht["a"])(e.films));t.page=e.page,t.films=r},successRequestFullMovieInfo:function(t,e){var r=e.id,a=e.fullInfo,n=e.isLoaded,i={id:r,fullInfo:a,isLoaded:n};t.fullFilmInfoById=_t({},i),t.fullFilmIsLoaded=!0}},actions:{getPopularMoviesAction:function(t){var e=t.commit,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(t,a){yt.miscPopularMovies({page:r},(function(n,i){n&&(e("errorRequestRemoteApi",{status:n.status,message:n.message}),a(n)),e("successRequestPopularMovie",{films:i.results,page:r}),t(i)}))}))},getFullMovieInfoAction:function(t,e){var r=t.commit;return new Promise((function(t,a){yt.movieInfo({id:e},(function(n,i){n&&(r("errorRequestRemoteApi",{status:n.status,message:n.message}),a(n)),r("successRequestFullMovieInfo",{id:e,fullInfo:i,isLoaded:!0}),t(i)}))}))},getFullTvInfoAction:function(t,e){var r=t.commit;return new Promise((function(t,a){yt.tvInfo({id:e},(function(e,n){e&&(r("errorRequestRemoteApi",{status:e.status,message:e.message}),a(e)),t(n)}))}))},getPopularTvAction:function(t){var e=t.commit,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(t,a){yt.miscPopularTvs({page:r},(function(r,n){r&&(e("errorRequestRemoteApi",{status:r.status,message:r.message}),a(r)),t(n)}))}))},getFilmTrailersAction:function(t,e){var r=t.commit;return new Promise((function(t,a){yt.movieTrailers({id:e},(function(e,n){e&&(r("errorRequestRemoteApi",{status:e.status,message:e.message}),a(e)),t(n.youtube[0])}))}))}},getters:{getMenu:function(t){var e=t.menu;return e}}}),It=r("f309");a["a"].use(It["a"]);var Lt=new It["a"]({icons:{iconfont:"mdiSvg"}});a["a"].config.productionTip=!1,new a["a"]({router:vt,store:Ot,vuetify:Lt,render:function(t){return t(X)}}).$mount("#app")},ed9e:function(t,e,r){}});
//# sourceMappingURL=app.ad8741d3.js.map